# lolz.live autobump bot

Бот автоматически поднимает темы на lolz.live и отправляет уведомления в Telegram.

## Кратко
- Поднимает темы по очереди с заданным интервалом.
- Уведомляет в Telegram о результатах и ошибках.
- Конфигурация хранится в файле `database.json`.

---

## Требования
- Node.js 14+  
- npm

---

## Установка
1. Клонируйте репозиторий
2. Установите зависимости:
   npm install

---

## Первичная настройка и запуск
1. Запустите приложение:
   npm start

2. В консоли последовательно введите:
   - токен Telegram-бота (`bot token`)
   - ID администратора (число)
   - токен lolz.live API

   После ввода конфигурация будет сохранена в файле `database.json`.

3. В Telegram отправьте боту команду `/start` — бот завершит настройку и попросит:
   - список ID тем (через пробел или запятую)
   - интервал в минутах между поднятиями

---

## Поведение
- Темы обрабатываются последовательно: одна тема → пауза (интервал) → следующая тема.
- При неудаче поднятия бот отправляет администратору сообщение с текстом ошибки. HTML-теги и переносы приводятся к читабельному виду.

---

## Команды в Telegram
- `/start` — начать или продолжить настройку.
- `/status` — показать текущие настройки и статистику.
- `/reset` — сбросить конфигурацию и остановить автоподнятие.

---

## Пример содержимого `database.json`
Файл содержит текущую конфигурацию и статистику. Пример (форматированный JSON):

    {
        "botToken": "<telegram_token>",
        "adminId": 7314932244,
        "lolzApiToken": "<lolz_api_token>",
        "topics": [38123722, 38123723],
        "bumpInterval": 3600000,
        "setupComplete": true
    }

Поля:
- `botToken` — токен Telegram-бота.
- `adminId` — числовой ID администратора Telegram.
- `lolzApiToken` — токен для API lolz.live (вводится только при первоначальной настройке).
- `topics` — массив ID тем (числа).
- `bumpInterval` — интервал в миллисекундах.
- `setupComplete` — флаг завершённой настройки.
